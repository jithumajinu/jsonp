<!DOCTYPE html>
<html>

<body>

<h2>JSONP With a Callback Function</h2>
 <button id="jsonp" onClick="callfun()">jsonp</button>

<p id="demojsonp">test</p>

<script>
  
        callfun = function () {
		           var callbackMethodName = "cb_";
			       var num = Math.round(10000 * Math.random());
                   callbackMethodName +=  num;
   
                   var sc = document.createElement("script");
                       sc.id="script_"+callbackMethodName
                   var url = "";
                       url = "http://localhost/jsonserver/getJSONP.php";
                       sc.src = url+"?callback="+callbackMethodName;
					   
			           document.body.appendChild(sc);
                       document.getElementById(sc.id).remove();

                       window[callbackMethodName] = function(data){
                          console.log("test");
                          console.log("Response : "+JSON.stringify(data));
	                      var demo = document.getElementById("demojsonp");
	                      demo.style.color = data.color; 
	   
                       };
        };		
</script>

</body>
</html>